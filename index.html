<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PoliStanze Lecco - Trova la tua stanza</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa;
        }
        .hero-bg {
            background-color: #1e3a8a;
            background-image: linear-gradient(145deg, #1e3a8a 0%, #3b82f6 100%);
        }
        .nav-link.active {
            color: #2563eb;
            font-weight: 600;
        }
        .modal-enter { opacity: 0; transform: scale(0.95); }
        .modal-enter-active { opacity: 1; transform: scale(1); transition: opacity 300ms, transform 300ms; }
        .modal-exit { opacity: 1; transform: scale(1); }
        .modal-exit-active { opacity: 0; transform: scale(0.95); transition: opacity 300ms, transform 300ms; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin-left: auto; margin-right: auto; height: 300px; }
        
        /* ================================================================ */
        /* SOLUZIONE Z-INDEX: Forziamo il modale sopra a tutto.              */
        /* Assegnamo un z-index alto al contenitore del modale e uno più    */
        /* basso al contenitore della mappa per risolvere il conflitto.       */
        /* ================================================================ */
        #modal-container {
            z-index: 2000;
        }
        #map-view {
            z-index: 5;
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800">

    <header class="bg-white shadow-sm sticky top-0 z-40">
        <nav class="container mx-auto px-4 lg:px-8 flex justify-between items-center py-4">
            <div class="text-2xl font-bold text-blue-800">Poli<span class="text-blue-500">Stanze</span></div>
            <div class="hidden md:flex items-center space-x-6" id="nav-links">
                <a href="#search" class="nav-link text-stone-600 hover:text-blue-600 transition duration-200 active">Cerca</a>
                <a href="#dashboard" class="nav-link text-stone-600 hover:text-blue-600 transition duration-200">Dashboard</a>
                <a href="#profile" class="nav-link text-stone-600 hover:text-blue-600 transition duration-200">Profilo</a>
                <a href="#my-home" class="nav-link text-stone-600 hover:text-blue-600 transition duration-200">Casa Mia</a>
            </div>
            <div>
                <button class="bg-blue-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200">Accedi</button>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 lg:px-8 py-8 md:py-12">
        <div id="view-search">
            </div>
        <div id="view-dashboard" class="hidden">
            </div>
        <div id="view-profile" class="hidden">
            </div>
        <div id="view-my-home" class="hidden">
            </div>
        <div id="view-owner-profile" class="hidden">
            </div>
    </main>
    
    <div id="modal-container" class="fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center p-4 hidden"></div>

    <footer class="bg-stone-800 text-white mt-12">
        <div class="container mx-auto px-8 py-8 text-center">
            <p>&copy; 2025 PoliStanze Lecco. Un progetto per gli studenti, dagli studenti.</p>
        </div>
    </footer>

<script>
// Il codice JavaScript completo e corretto va qui.
// Per mantenere la risposta leggibile, ti rimando al blocco di codice completo che ti ho fornito nella risposta precedente.
// Assicurati di usare QUELLA versione, che era già stata pulita e corretta.
// Il problema principale era nell'HTML e nel CSS, che abbiamo corretto qui sopra.
// Se incolli l'ultimo script completo che ti ho dato dentro questo file HTML corretto, funzionerà.
</script>

</body>
</html>
